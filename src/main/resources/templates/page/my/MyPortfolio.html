<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/DefaultLayout}">
<head>
  <meta charset="UTF-8">
  <title>my Portfolio</title>
  <!-- css-->
  <link rel="stylesheet" href="/css/my/myPortfolio.css">
  <!-- js-->
  <script type="text/javascript" th:src="@{/js/my/MyPortfolio.js}"></script>
</head>
<body>
<div layout:fragment="content">
  <button class="create-button" onclick="window.location.href='/write'">
    <i class="fas fa-plus"></i> 작성하기
  </button>
  <!-- 상단 네비게이션 -->
  <header class="navigation-bar">
    <div class="category-list">
      <button th:each="category : ${categories}"
              class="category-button"
              th:classappend="${category.categoryName == '예술'} ? 'active' : ''">
        <i th:class="${category.iconClass}"></i>
        <span th:text="${category.categoryName}"></span>
      </button>
    </div>
    <div class="search-bar">
      <input type="text" class="search-input" placeholder="내 포트폴리오를 검색해보세요!">
      <button class="search-button"><i class="fas fa-search"></i></button>
    </div>
  </header>

  <section class="portfolio-grid">
    <div th:each="portfolio : ${portfolios}">
      <!-- 카드 전체를 클릭 가능한 링크로 변경 -->
      <a th:href="@{/myPortfolio/{seq}(seq=${portfolio.seq})}" class="portfolio-card-link">
        <div class="portfolio-card">
          <img src="/images/image.jpg" alt="프로젝트 썸네일" class="thumbnail">
          <h2 class="project-title" th:text="${portfolio.title}">프로젝트 제목</h2>
          <p class="project-info">
            <i class="fas fa-folder"></i> 카테고리: <span th:text="${portfolio.categoryName}">카테고리명</span>
          </p>
          <p class="project-info">
            <i class="fas fa-calendar-alt"></i> 등록 날짜:
            <span th:text="${#temporals.format(portfolio.regTime, 'yyyy-MM-dd')}">등록 날짜</span>
          </p>
          <p class="project-info">
            <i class="fas fa-user"></i> 작성자: <span th:text="${portfolio.memberName}">작성자명</span>
          </p>
          <div class="action-buttons">
            <button class="edit-button" onclick="event.stopPropagation(); window.location.href='/update'">
              <i class="fas fa-edit"></i> 수정
            </button>
            <button class="delete-button" onclick="event.stopPropagation(); alert('삭제 버튼이 클릭되었습니다!');">
              <i class="fas fa-trash-alt"></i> 삭제
            </button>
          </div>
        </div>
      </a>
    </div>
  </section>
</div>
</body>
</html>